---
import { getAllTags } from "@/utils/getAllTags";
import { Icon } from "astro-icon/components";
const tags = await getAllTags();
---

<div class="flex justify-center items-center gap-4">
  <span
    id="opener"
    class="size-12 grid place-items-center md:mt-2 cursor-pointer"
  >
    <Icon
      class="text-blue-400 dark:text-white text-3xl"
      name="lucide:list-filter"
    />
  </span>

  <div
    id="selector"
    class="opacity-0 transition-opacity flex flex-wrap justify-center items-center gap-4"
  >
    {
      tags.map((tag) => (
        <a href={`/blog/tag/${tag.toLowerCase()}`}>
          <span class="border-extra-soft-white mt-4 self-start rounded border px-2 py-1 text-zinc-400">
            {tag}
          </span>
        </a>
      ))
    }
  </div>
</div>

<script data-astro-rerun>
  document.getElementById("opener")?.addEventListener("click", () => {
    const selector = document.getElementById("selector");
    selector?.classList.toggle("opacity-0");
  });
</script>
